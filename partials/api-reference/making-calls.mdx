import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import CodeBlock from "@theme/CodeBlock";

<br />

<details>
  <summary>
    <span className="open">API Authentication</span>
    <span className="closed">Click to view API Authentication details</span>
  </summary>

<div>
  API calls require authentication with API key via <code>Authorization</code>{" "}
  request header or <code>URL</code> property. Calls are made to one of the{" "}
  <strong>
    {props.network} {props.service}
  </strong>{" "}
  endpoints found in your app's dashboard. <br />
  <br />
  For example: <code>{props.url.replace("-dbgtxn", "")}</code>
  <br />
  <br />
</div>
Here's some boilerplate to get you started.{" "}

<Tabs>
  <TabItem value="js-header" label="Fetch with Header">
    <CodeBlock language="js">
      {`fetch("${props.url.replace("-dbgtxn", "")}${props.route}", {
    method: 'POST', // can also be 'GET', 'PUT' or any appropriate method
    headers: {
        "Authorization" : "<api_key>",
        "Content-Type": "application/json" // if method is 'POST'
    },
    body: JSON.stringify({
      // JSON Payload
    })
})`}
    </CodeBlock>
  </TabItem>
  <TabItem value="js-parameter" label="Fetch with Parameter">
    <CodeBlock language="js">
      {`fetch("${props.url.replace("-dbgtxn", "")}/apikey/{{apikey}}${
        props.route
      }", {
    method: 'POST', // can also be 'GET', 'PUT' or any appropriate method
    headers: {
        "Content-Type": "application/json" // if method is 'POST'
    },
    body: JSON.stringify({
      // JSON Payload
    })
})`}
    </CodeBlock>
  </TabItem>
  <TabItem value="curl-header" label="CURL with Header">
    <CodeBlock language="bash">
      {`curl -X POST '${props.url.replace("-dbgtxn", "")}${props.route}' \\
--header 'Content-Type: application/json' \\
--header 'Authorization: <api_key>' \\
--data '{
  // JSON Payload
}'`}
    </CodeBlock>
  </TabItem>
  <TabItem value="curl-parameter" label="CURL with Parameter">
    <CodeBlock language="bash">
      {`curl -X POST '${props.url.replace("-dbgtxn", "")}/apikey/{{apikey}}${
        props.route
      }' \\
--header 'Content-Type: application/json' \\
--data '{
  // JSON Payload
}'`}
    </CodeBlock>
  </TabItem>
</Tabs>

</details>
