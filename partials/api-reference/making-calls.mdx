import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import CodeBlock from "@theme/CodeBlock";

### Authentication

Making API calls with DataHub requires authentication, which can be performed by passing your API key via the request header `Authorization` or as a parameter in the query URL.

Here's some boilerplate to get you started.

<Tabs>
  <TabItem value="js-header" label="Fetch with Header">
    <CodeBlock language="js">
      {`fetch("${props.url.replace(/(apikey\/[^\/]+\/){1}/, "")}", {
    method: 'POST', // can also be 'GET', 'PUT' or any appropriate method
    headers: {
        "Authorization" : "<api_key>",
        "Content-Type": "application/json" // if method is 'POST'
    },
    body: JSON.stringify({
      // JSON Payload
    })
})`}
    </CodeBlock>
  </TabItem>
  <TabItem value="js-parameter" label="Fetch with Parameter">
    <CodeBlock language="js">
      {`fetch("${props.url.replace(
        /(apikey\/[^\/]+\/){1}/,
        "apikey/<api_key>/"
      )}", {
    method: 'POST', // can also be 'GET', 'PUT' or any appropriate method
    headers: {
        "Content-Type": "application/json" // if method is 'POST'
    },
    body: JSON.stringify({
      // JSON Payload
    })
})`}
    </CodeBlock>
  </TabItem>
  <TabItem value="curl-header" label="CURL with Header">
    <CodeBlock language="bash">
      {`curl -X POST '${props.url.replace(/(apikey\/[^\/]+\/){1}/, "")}' \\
--header 'Content-Type: application/json' \\
--header 'Authorization: <api_key>' \\
--data '{
  // JSON Payload
}'`}
    </CodeBlock>
  </TabItem>
  <TabItem value="curl-parameter" label="CURL with Parameter">
    <CodeBlock language="bash">
      {`curl -X POST '${props.url.replace(
        /(apikey\/[^\/]+\/){1}/,
        "apikey/<api_key>/"
      )}' \\
--header 'Content-Type: application/json' \\
--data '{
  // JSON Payload
}'`}
    </CodeBlock>
  </TabItem>
</Tabs>
